<div class="form-sensor-container">
    <h3>Actualizar sensor</h3>
    <form *ngIf="sensorForm && selectedSensor && plantUuid" [formGroup]="sensorForm" (ngSubmit)="onSubmit()">
        <div class="input-container">
            <label for="readings">Lecturas ok</label>
            <input type="number" id="readings" name="readings" formControlName="readings" placeholder="Lecturas ok">
            <div *ngIf="readings?.invalid && readings?.touched">
                <section *ngIf="readings?.errors?.['required']">
                    <span class="error-message"> Las lecturas son requeridas</span>
                </section>
                <section *ngIf="readings?.errors?.['min'] || readings?.errors?.['max']">
                    <span class="error-message"> Las lecturas deben ser entre 1 y 10.000</span>
                </section>
            </div>
        </div>
    
        <div class="input-container">
            <label for="averageAlerts">Alertas medias</label>
            <input type="number" id="averageAlerts" name="averageAlerts" formControlName="averageAlerts" placeholder="Alertas medias">
            <div *ngIf="averageAlerts?.invalid && averageAlerts?.touched">
                <section *ngIf="averageAlerts?.errors?.['required']">
                    <span class="error-message"> Las alertas medias son requeridas</span>
                </section>
                <section *ngIf="averageAlerts?.errors?.['min'] || averageAlerts?.errors?.['max']">
                    <span class="error-message"> Las alertas medias deben ser entre 1 y 10.000</span>
                </section>
            </div>
        </div>

        <div class="input-container">
            <label for="redAlerts">Alertas rojas</label>
            <input type="number" id="redAlerts" name="redAlerts" formControlName="redAlerts" placeholder="Alertas rojas">
            <div *ngIf="redAlerts?.invalid && redAlerts?.touched">
                <section *ngIf="redAlerts?.errors?.['required']">
                    <span class="error-message"> Las alertas rojas son requeridas</span>
                </section>
                <section *ngIf="redAlerts?.errors?.['min'] || redAlerts?.errors?.['max']">
                    <span class="error-message"> Las alertas rojas deben ser entre 1 y 10.000</span>
                </section>
            </div>
        </div>

        <div class="input-container">
            <label for="enabled">Estado</label>
            <input class="disabled-input" type="text" id="enabled" name="enabled" formControlName="enabled" placeholder="Activado" [readOnly]="true" tabindex="-1">
            <div *ngIf="averageAlerts?.invalid && averageAlerts?.touched">
                <section *ngIf="averageAlerts?.errors?.['required']">
                    <span class="error-message"> El estado del sensor es requerido</span>
                </section>
            </div>
        </div>

        <div class="submit-container">
            <button class="cancel-button" type="button" (click)="close()">Cancelar</button>
            <button class="submit-button" type="submit" [disabled]="!sensorForm.valid">Actualizar Sensor</button>
        </div>
    </form>
</div>
<app-alert-card *ngIf="showAlert" [message]="alertMessage" (closeAlert)="OnCloseAlert()"></app-alert-card>